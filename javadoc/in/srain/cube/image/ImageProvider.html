<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_67) on Wed Apr 29 09:45:44 CST 2015 -->
<title>ImageProvider (core API)</title>
<meta name="date" content="2015-04-29">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ImageProvider (core API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../in/srain/cube/image/ImagePerformanceStatistics.html" title="class in in.srain.cube.image"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../in/srain/cube/image/ImageReuseInfo.html" title="class in in.srain.cube.image"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?in/srain/cube/image/ImageProvider.html" target="_top">Frames</a></li>
<li><a href="ImageProvider.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">in.srain.cube.image</div>
<h2 title="Class ImageProvider" class="title">Class ImageProvider</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>in.srain.cube.image.ImageProvider</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">ImageProvider</span>
extends java.lang.Object</pre>
<div class="block">This class handles disk and memory caching of bitmaps.
 <p/>
 Most of the code is taken from the Android best practice of displaying Bitmaps <a href="http://developer.android.com/training/displaying-bitmaps/index.html">Displaying Bitmaps Efficiently</a>.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../in/srain/cube/image/ImageProvider.html#DEBUG">DEBUG</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../in/srain/cube/image/ImageProvider.html#TAG">TAG</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../in/srain/cube/image/ImageProvider.html#ImageProvider(android.content.Context,%20in.srain.cube.image.iface.ImageMemoryCache,%20in.srain.cube.image.ImageDiskCacheProvider)">ImageProvider</a></strong>(android.content.Context&nbsp;context,
             <a href="../../../../in/srain/cube/image/iface/ImageMemoryCache.html" title="interface in in.srain.cube.image.iface">ImageMemoryCache</a>&nbsp;memoryCache,
             <a href="../../../../in/srain/cube/image/ImageDiskCacheProvider.html" title="class in in.srain.cube.image">ImageDiskCacheProvider</a>&nbsp;fileProvider)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../in/srain/cube/image/ImageProvider.html#addBitmapToMemCache(java.lang.String,%20android.graphics.drawable.BitmapDrawable)">addBitmapToMemCache</a></strong>(java.lang.String&nbsp;key,
                   android.graphics.drawable.BitmapDrawable&nbsp;drawable)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../in/srain/cube/image/ImageProvider.html#cancelTask(in.srain.cube.image.ImageTask)">cancelTask</a></strong>(<a href="../../../../in/srain/cube/image/ImageTask.html" title="class in in.srain.cube.image">ImageTask</a>&nbsp;task)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../in/srain/cube/image/ImageProvider.html#clearDiskCache()">clearDiskCache</a></strong>()</code>
<div class="block">clear the disk cache</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../in/srain/cube/image/ImageProvider.html#clearMemoryCache()">clearMemoryCache</a></strong>()</code>
<div class="block">clear the memory cache</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>android.graphics.drawable.BitmapDrawable</code></td>
<td class="colLast"><code><strong><a href="../../../../in/srain/cube/image/ImageProvider.html#createBitmapDrawable(android.content.res.Resources,%20android.graphics.Bitmap)">createBitmapDrawable</a></strong>(android.content.res.Resources&nbsp;resources,
                    android.graphics.Bitmap&nbsp;bitmap)</code>
<div class="block">Create a BitmapDrawable which can be managed in ImageProvider</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>android.graphics.Bitmap</code></td>
<td class="colLast"><code><strong><a href="../../../../in/srain/cube/image/ImageProvider.html#fetchBitmapData(in.srain.cube.image.ImageLoader,%20in.srain.cube.image.ImageTask,%20in.srain.cube.image.iface.ImageReSizer)">fetchBitmapData</a></strong>(<a href="../../../../in/srain/cube/image/ImageLoader.html" title="class in in.srain.cube.image">ImageLoader</a>&nbsp;imageLoader,
               <a href="../../../../in/srain/cube/image/ImageTask.html" title="class in in.srain.cube.image">ImageTask</a>&nbsp;imageTask,
               <a href="../../../../in/srain/cube/image/iface/ImageReSizer.html" title="interface in in.srain.cube.image.iface">ImageReSizer</a>&nbsp;imageReSizer)</code>
<div class="block">Get Bitmap.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../in/srain/cube/image/ImageProvider.html#flushFileCache()">flushFileCache</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>android.graphics.drawable.BitmapDrawable</code></td>
<td class="colLast"><code><strong><a href="../../../../in/srain/cube/image/ImageProvider.html#getBitmapFromMemCache(in.srain.cube.image.ImageTask)">getBitmapFromMemCache</a></strong>(<a href="../../../../in/srain/cube/image/ImageTask.html" title="class in in.srain.cube.image">ImageTask</a>&nbsp;imageTask)</code>
<div class="block">Get from memory cache.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../../in/srain/cube/image/ImageProvider.html#getBitmapSize(android.graphics.drawable.BitmapDrawable)">getBitmapSize</a></strong>(android.graphics.drawable.BitmapDrawable&nbsp;value)</code>
<div class="block">Get the size in bytes of a bitmap in a BitmapDrawable.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../in/srain/cube/image/ImageProvider.html#getFileCacheMaxSpace()">getFileCacheMaxSpace</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../in/srain/cube/image/ImageProvider.html#getFileCachePath()">getFileCachePath</a></strong>()</code>
<div class="block">return the file cache path</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../in/srain/cube/image/ImageProvider.html#getFileCacheUsedSpace()">getFileCacheUsedSpace</a></strong>()</code>
<div class="block">get the used space</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../in/srain/cube/image/ImageProvider.html#getMemoryCacheMaxSpace()">getMemoryCacheMaxSpace</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../in/srain/cube/image/ImageProvider.html#getMemoryCacheUsedSpace()">getMemoryCacheUsedSpace</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DEBUG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEBUG</h4>
<pre>protected static final&nbsp;boolean DEBUG</pre>
</li>
</ul>
<a name="TAG">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TAG</h4>
<pre>protected static final&nbsp;java.lang.String TAG</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ImageProvider(android.content.Context, in.srain.cube.image.iface.ImageMemoryCache, in.srain.cube.image.ImageDiskCacheProvider)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ImageProvider</h4>
<pre>public&nbsp;ImageProvider(android.content.Context&nbsp;context,
             <a href="../../../../in/srain/cube/image/iface/ImageMemoryCache.html" title="interface in in.srain.cube.image.iface">ImageMemoryCache</a>&nbsp;memoryCache,
             <a href="../../../../in/srain/cube/image/ImageDiskCacheProvider.html" title="class in in.srain.cube.image">ImageDiskCacheProvider</a>&nbsp;fileProvider)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getBitmapSize(android.graphics.drawable.BitmapDrawable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBitmapSize</h4>
<pre>public static&nbsp;long&nbsp;getBitmapSize(android.graphics.drawable.BitmapDrawable&nbsp;value)</pre>
<div class="block">Get the size in bytes of a bitmap in a BitmapDrawable. Note that from Android 4.4 (KitKat) onward this returns the allocated memory size of the bitmap which can be larger than the actual bitmap data byte count (in the case it was re-used).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>value</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>size in bytes</dd></dl>
</li>
</ul>
<a name="createBitmapDrawable(android.content.res.Resources, android.graphics.Bitmap)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createBitmapDrawable</h4>
<pre>public&nbsp;android.graphics.drawable.BitmapDrawable&nbsp;createBitmapDrawable(android.content.res.Resources&nbsp;resources,
                                                            android.graphics.Bitmap&nbsp;bitmap)</pre>
<div class="block">Create a BitmapDrawable which can be managed in ImageProvider</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>resources</code> - </dd><dd><code>bitmap</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getBitmapFromMemCache(in.srain.cube.image.ImageTask)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBitmapFromMemCache</h4>
<pre>public&nbsp;android.graphics.drawable.BitmapDrawable&nbsp;getBitmapFromMemCache(<a href="../../../../in/srain/cube/image/ImageTask.html" title="class in in.srain.cube.image">ImageTask</a>&nbsp;imageTask)</pre>
<div class="block">Get from memory cache.</div>
</li>
</ul>
<a name="addBitmapToMemCache(java.lang.String, android.graphics.drawable.BitmapDrawable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addBitmapToMemCache</h4>
<pre>public&nbsp;void&nbsp;addBitmapToMemCache(java.lang.String&nbsp;key,
                       android.graphics.drawable.BitmapDrawable&nbsp;drawable)</pre>
</li>
</ul>
<a name="cancelTask(in.srain.cube.image.ImageTask)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancelTask</h4>
<pre>public&nbsp;void&nbsp;cancelTask(<a href="../../../../in/srain/cube/image/ImageTask.html" title="class in in.srain.cube.image">ImageTask</a>&nbsp;task)</pre>
</li>
</ul>
<a name="fetchBitmapData(in.srain.cube.image.ImageLoader, in.srain.cube.image.ImageTask, in.srain.cube.image.iface.ImageReSizer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchBitmapData</h4>
<pre>public&nbsp;android.graphics.Bitmap&nbsp;fetchBitmapData(<a href="../../../../in/srain/cube/image/ImageLoader.html" title="class in in.srain.cube.image">ImageLoader</a>&nbsp;imageLoader,
                                      <a href="../../../../in/srain/cube/image/ImageTask.html" title="class in in.srain.cube.image">ImageTask</a>&nbsp;imageTask,
                                      <a href="../../../../in/srain/cube/image/iface/ImageReSizer.html" title="interface in in.srain.cube.image.iface">ImageReSizer</a>&nbsp;imageReSizer)</pre>
<div class="block">Get Bitmap. If not exist in file cache, will try to re-use the file cache of the other sizes.
 <p/>
 If no file cache can be used, download then save to file.</div>
</li>
</ul>
<a name="flushFileCache()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flushFileCache</h4>
<pre>public&nbsp;void&nbsp;flushFileCache()</pre>
</li>
</ul>
<a name="clearMemoryCache()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearMemoryCache</h4>
<pre>public&nbsp;void&nbsp;clearMemoryCache()</pre>
<div class="block">clear the memory cache</div>
</li>
</ul>
<a name="clearDiskCache()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearDiskCache</h4>
<pre>public&nbsp;void&nbsp;clearDiskCache()</pre>
<div class="block">clear the disk cache</div>
</li>
</ul>
<a name="getMemoryCacheMaxSpace()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMemoryCacheMaxSpace</h4>
<pre>public&nbsp;long&nbsp;getMemoryCacheMaxSpace()</pre>
</li>
</ul>
<a name="getMemoryCacheUsedSpace()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMemoryCacheUsedSpace</h4>
<pre>public&nbsp;long&nbsp;getMemoryCacheUsedSpace()</pre>
</li>
</ul>
<a name="getFileCachePath()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFileCachePath</h4>
<pre>public&nbsp;java.lang.String&nbsp;getFileCachePath()</pre>
<div class="block">return the file cache path</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getFileCacheUsedSpace()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFileCacheUsedSpace</h4>
<pre>public&nbsp;long&nbsp;getFileCacheUsedSpace()</pre>
<div class="block">get the used space</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getFileCacheMaxSpace()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getFileCacheMaxSpace</h4>
<pre>public&nbsp;long&nbsp;getFileCacheMaxSpace()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../in/srain/cube/image/ImagePerformanceStatistics.html" title="class in in.srain.cube.image"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../in/srain/cube/image/ImageReuseInfo.html" title="class in in.srain.cube.image"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?in/srain/cube/image/ImageProvider.html" target="_top">Frames</a></li>
<li><a href="ImageProvider.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
